---
import {Image} from "astro:assets";
import { Icon } from 'astro-icon/components'
import image from '../assets/profile.jpg';
import enMessages from '../messages/en.js';
import ptMessages from '../messages/pt-br.js';

const locale = Astro.url.pathname.startsWith("/pt-br") ? "pt-br" : "en";
const messages = locale === 'pt-br' ? ptMessages : enMessages;

const title = messages.about.title;
const subtitle = messages.about.subtitle;
const description = messages.about.description;
---

<div id="about" class="about-field">
    <div class="background-down-top"></div>
    <div class="background-top">
        <div class="content">
            <ul class="user-info">
                <Image class="profile-image" src={image} alt="Foto de perfil de Bruno Bispo" decoding="async" loading="eager" />
                <h1 class="name">Bruno Bispo</h1>
                <div class="icons">
                    <a href="mailto:brunobispo.saints@gmail.com" target="_blank" rel="noopener noreferrer" aria-label="Enviar email para Bruno Bispo">
                        <Icon name="email" aria-hidden="true" />
                    </a>
                    <a href="https://github.com/brunof2p" target="_blank" rel="noopener noreferrer" aria-label="Visitar perfil do GitHub de Bruno Bispo">
                        <Icon name="github" aria-hidden="true" />
                    </a>
                    <a href="https://linkedin.com/in/brunof2p" target="_blank" rel="noopener noreferrer" aria-label="Visitar perfil do LinkedIn de Bruno Bispo">
                        <Icon name="linkedin" aria-hidden="true" />
                    </a>
                </div>
            </ul>
            <ul class="about-info">
                <div class="detail-title">
                    <div class="cube" aria-hidden="true"></div>
                    <h1 style="font-weight: bold;">{title}</h1>
                </div>
                <h2 style="padding-bottom: 2rem; padding-top: 2rem">{subtitle}</h2>
                <p class="description">{description}</p>
            </ul>
        </div>
    </div>
    <div class="background-bottom">
        <div class="background-down-bottom"></div>
    </div>
</div>

<style>
    [data-icon] {
        font-size: 2.2rem;
    }
    .about-field {
        flex: 1;
        display: flex;
        flex-direction: column;
        margin-top: 6%;
        position: relative;
    }
    .background-top, .background-down-top, .background-down-bottom, .background-bottom {
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: white;
    }
    .background-down-top {
        background-color: #242e3a;
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        z-index: 1;
        margin-top: -5%;
        clip-path: polygon(
            0% 100%, 0% 5%, 
            4.16% 5%, 4.16% 18%, 
            8.33% 18%, 8.33% 9%, 
            12.5% 9%, 12.5% 20%, 
            16.66% 20%, 16.66% 13%, 
            20.83% 13%, 20.83% 15%, 
            25% 15%, 25% 10%, 
            29.16% 10%, 29.16% 25%, 
            33.33% 25%, 33.33% 15%, 
            37.5% 15%, 37.5% 20%, 
            41.66% 20%, 41.66% 10%, 
            45.83% 10%, 45.83% 25%, 
            50% 25%, 50% 15%, 
            54.16% 15%, 54.16% 20%, 
            58.33% 20%, 58.33% 10%, 
            62.5% 10%, 62.5% 25%, 
            66.66% 25%, 66.66% 15%, 
            70.83% 15%, 70.83% 20%, 
            75% 20%, 75% 10%, 
            79.16% 10%, 79.16% 25%, 
            83.33% 25%, 83.33% 15%, 
            87.5% 15%, 87.5% 20%, 
            91.66% 20%, 91.66% 10%, 
            95.83% 10%, 95.83% 25%, 
            100% 25%, 100% 100%
        );
        
    }
    .background-top {
        background-color: #2b3443;
        height: 100%;
        width: 100%;
        z-index: 2;
        clip-path: polygon(
            0% 100%, 0% 5%, 
            10% 5%, 10% 18%, 
            20% 18%, 20% 9%, 
            30% 9%, 30% 20%, 
            40% 20%, 40% 13%, 
            50% 13%, 50% 15%, 
            60% 15%, 60% 10%, 
            70% 10%, 70% 25%, 
            80% 25%, 80% 15%, 
            90% 15%, 90% 20%, 
            100% 20%, 100% 100%
        );
    }

    .background-bottom {
        background-color: #202733;
        height: 50vh;
        width: 100%;
        position: absolute;
        bottom: 0;
        z-index: 3;
        clip-path: polygon(
            0% 100%, 0% 80%, 
            10% 80%, 10% 75%, 
            20% 75%, 20% 65%, 
            30% 65%, 30% 80%, 
            40% 80%, 40% 72%, 
            50% 72%, 50% 85%, 
            60% 85%, 60% 90%, 
            70% 90%, 70% 75%, 
            80% 75%, 80% 60%, 
            90% 60%, 90% 80%, 
            100% 80%, 100% 100%
        );
    }

    .background-down-bottom {
        background-color: #242e3a;
        height: 50vh;
        width: 100%;
        position: absolute;
        bottom: 0;
        z-index: 1;
        clip-path: polygon(
            0% 0%, 0% 95%, 
            4.16% 95%, 4.16% 82%, 
            8.33% 82%, 8.33% 91%, 
            12.5% 91%, 12.5% 80%, 
            16.66% 80%, 16.66% 87%, 
            20.83% 87%, 20.83% 85%, 
            25% 85%, 25% 90%, 
            29.16% 90%, 29.16% 75%, 
            33.33% 75%, 33.33% 85%, 
            37.5% 85%, 37.5% 80%, 
            41.66% 80%, 41.66% 90%, 
            45.83% 90%, 45.83% 75%, 
            50% 75%, 50% 85%, 
            54.16% 85%, 54.16% 80%, 
            58.33% 80%, 58.33% 90%, 
            62.5% 90%, 62.5% 75%, 
            66.66% 75%, 66.66% 85%, 
            70.83% 85%, 70.83% 80%, 
            75% 80%, 75% 90%, 
            79.16% 90%, 79.16% 75%, 
            83.33% 75%, 83.33% 85%, 
            87.5% 85%, 87.5% 80%, 
            91.66% 80%, 91.66% 90%, 
            95.83% 90%, 95.83% 75%, 
            100% 75%, 100% 0%
        );
    }
    .content {
        display: flex;
        flex-direction: row;
        margin-top: 12rem;
        margin-bottom: 12rem;
        align-items: center;
    }
    .description {
        color: white;
        font-size: 1.2rem;
        opacity: 0.7;
        max-width: 1200px;
    }
    .user-info {
        flex: 1 1 50%;
        display: flex;
        flex-direction: column;
        text-align: center;
        align-items: center;
    }
    .icons{
        display: flex;
        justify-content: center;
        flex-direction: row;
        gap: 1rem;
    }
    .icons a:hover [data-icon] {
        color: #b8772e;
    }
    .about-info {
        flex: 1 1 50%;
        flex-direction: column;
        text-align: start;
        padding-right: 13.5rem;
        word-wrap: break-word;
    }
    .profile-image {
        width: 15vw;
        height: 15vw;
        max-width: 200px;
        max-height: 200px;
        border-radius: 50%;
        border: 6px solid #78d7d5;
        padding: 6px;
    }
    .name{
        font-weight: lighter;
    }
    .detail-title {
        display: flex;
        align-items: center;
        gap: 25px; 
    }

    .cube {
        width: 10px;
        height: 10px;
        background-color: #78d7d5;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;    
    }

    .cube::after {
        content: "";
        position: absolute;
        inset: -5px;
        border: 2px solid #78d7d5;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    @media screen and (max-width: 768px) {
    .background-top, .background-down-top {
        height: auto;
        min-height: 100vh;
    }
    .profile-image {
        width: 30vw;
        height: 30vw;
    }
    .content {
        flex-direction: column;
        margin-top: 18rem;
        margin-bottom: 12rem;
        padding-left: 2rem;
        padding-right: 2rem;
        align-items: normal;
    }
    .about-info {
        width: 100%;
        align-items: center;
        text-align: center;
        padding-left: 0;
    }
    .user-info {
        margin-bottom: 2rem;
        padding-left: 0;
    }
    .detail-title {
        flex-direction: column;
        align-items: center;
    }
    .cube{
        display: none;
    }

}

</style>